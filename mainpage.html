<!DOCTYPE html>
<html lang="en">

<head>
  <title>Study Helper</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <nav class="navbar navbar-expand-sm navbar-dark fixed-top" id="myNavbar">
    <a class="navbar-brand" href="mainpage.html">Study Helper</a>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="index.html">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="about.html">About us</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="login.html">Login</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="register.html">Register</a>
      </li>
    </ul>
  </nav>

  <div id="mySidenav" class="sidenav">
    <a href="#" id="timer" data-toggle="modal" data-target="#myModal">
      <img src="timer.png" width="50" height="50">
    </a>
    <a href="#" id="blog" data-toggle="modal" data-target="#bgModal">
      <img src="background.png" width="50" height="50">
    </a>
    <a href="#" id="projects">
      <img src="writing.png" width="50" height="50">
    </a>
    <a href="#" id="contact">
      <img src="to-do-list.png" width="50" height="50">
    </a>
    <a href="#" id="music">
      <img src="musical-note.png" width="50" height="50">
    </a>
  </div>

  <div class="container">
    <!-- Combined Modal for Color and Image Picker -->
    <div class="modal fade" id="bgModal">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Background Customizer</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <form id="colorForm">
              <label for="favcolor">Select a background color:</label>
              <input type="color" id="favcolor" name="favcolor" value="#ff0000">
              <p><button type="submit" class="btn btn-success">Set Color</button></p>
            </form>
            <hr>
            <form id="imageForm">
              <label for="bgImage">Or upload an image:</label>
              <input type="file" id="bgImage" name="bgImage" accept="image/*">
              <p><button type="submit" class="btn btn-success">Set Image</button></p>
            </form>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          </div>

        </div>
      </div>
    </div>
  </div>

  <script>
    // Background color picker
    document.getElementById("colorForm").addEventListener("submit", function(event) {
      event.preventDefault();
      const selectedColor = document.getElementById("favcolor").value;
      document.body.style.backgroundImage = "none";
      document.body.style.backgroundColor = selectedColor;
      $('#bgModal').modal('hide');
    });

    // Background image picker
    document.getElementById("imageForm").addEventListener("submit", function(event) {
      event.preventDefault();
      const fileInput = document.getElementById("bgImage");
      if (fileInput.files && fileInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.body.style.backgroundImage = `url(${e.target.result})`;
          document.body.style.backgroundSize = "cover";
          document.body.style.backgroundRepeat = "no-repeat";
          document.body.style.backgroundPosition = "center";
        };
        reader.readAsDataURL(fileInput.files[0]);
        $('#bgModal').modal('hide');
      }
    });
  </script>

</body>

</html>
